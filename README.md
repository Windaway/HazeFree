一个简单的去雾算法
================
融合了Clahe和暗通道，做了个简单非线性融合，做了定点化和一点简化操作，速度不错。

含Matlab和C++(虽然用了OpenCV，但是为了方便移植只用了显示，计算没用，代码在ADSP上测试过)实现。

忘了代码用没用到GNU的了，所以还是用GNU协议了……另外用于商业用途肯定有问题。

算法主要是为了实现在多种实际场景下实现较为鲁棒的去雾效果，往期算法虽然能在标准测试图下取得不错的效果，但对于复杂的实际场景下应用表现却不尽如人意，而且一些算法计算复杂度较高，比如使用软抠图或者导向滤波的暗通道法，还有使用Maccan迭代的Retinex法都无法实时完成计算。本报告中提出的算法，在复杂场景下鲁棒性较高，并且拥有较高的计算速度，在SurfacePro3 i5 4300u(1.9Ghz) 8G RAM条件使用Matlab r2016下处理720p图像，不进行优化可以做到5FPS，做并行优化后可以更快。
算法主要想法是来源于在优化暗通道优先的去雾算法后发现虽然算法的速度极大提高，但是在过曝场景下效果欠佳，而且对比度也不是很强。然后又实验了一些别的优化算法，比如Color-Prior方法，也有类似的问题。Retinex方法，通过SCR、MSCR、Mccann之类方法估计大气光然后去雾，迭代法可以获得较为精确的估计，但是实际使用中发现也容易过饱和，而且计算量并不低。自适应直方图均衡，发现对小动态场景较好，大动态场景效果较差，使用CLAHE，分块自适应直方图均衡化后发现有改观，但是默认的算法使用Lab空间进行处理，效果不是很好，如果使用Hsv的亮度和饱和度处理容易过饱和，使用RGB分开处理极容易出现杂色，于是重写了RGB整合处理的算法，改良的色彩观感，但是均衡过度，容易让亮度不均匀，最后改用均衡RGB的算法做，色彩观感和亮度均匀性得到了一定保证。根据前面实验得到的经验，在高亮度场景下倾向于使用CLAHE，在大对比的条件下则增加暗通道法的权重。具体使用一个非线性的权重计算公式来更好的适应。算法在Matlab下验证，并使用C语言重写，在ADI DSP平台测试通过。
